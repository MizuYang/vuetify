import{r as A,b as g,c as I,f as M,i as y,F as L,g as X,k as Se,z as Fe,t as Y,e as d,A as Q,w as x,d as ne,h as K,B as ee,C as he,p as m,D as z,o as ge,E as de,G as Oe,H as Ue,m as ve,I as se,J as Ie,K as Ne,L as $e,s as Ce,q as je}from"./index-8e0f981f.js";import{u as De}from"./pagesStore-7323b9db.js";const Me={class:"mb-15"},Re=["id","onUpdate:modelValue"],Te=["for"],ze={__name:"D1",setup(e){const t=A(["陳小明","林美玲","張家豪","李雅婷","王大翔","吳佳怡","黃明志","許小琪","吳宗翰","吳思婷","楊宏達","周美玲","劉建宏","吳佩玲","蕭明潔","鄭宗翰","洪美玲","曾家豪","彭雅婷","王大翔","王思婷","林宏達","王美玲","林家豪","余雅婷","顏大翔","王佳怡","王明志","李小琪","楊宗翰","楊思婷","林宏達","楊美玲","李家豪","馮雅婷","孫大翔","萬佳怡","雷明志","賴小琪","李宗翰","魏思婷","李宏達","李美玲","李家豪","江雅婷","林大翔","林佳怡","小明志","小小琪"]),n=A({clearable:{enName:"clearable",cnName:"顯示清除按鈕",value:!1},chips:{enName:"chips",cnName:"讓選項加上 tag 樣式",value:!1},multiple:{enName:"multiple",cnName:"可多選",value:!1}});return(o,i)=>{const r=g("v-autocomplete");return I(),M(L,null,[y("div",Me,[(I(!0),M(L,null,X(n.value,(u,v)=>(I(),M("div",{key:u.enName,class:"form-check d-flex align-items-center"},[Se(y("input",{class:"form-check-input",type:"checkbox",id:u.enName,"onUpdate:modelValue":h=>n.value[v].value=h},null,8,Re),[[Fe,n.value[v].value]]),y("label",{class:"form-check-label ms-3",for:u.enName},Y(u.cnName),9,Te)]))),128))]),d(r,{label:"Autocomplete",items:t.value,variant:"outlined",clearable:n.value.clearable.value,chips:n.value.chips.value,multiple:n.value.multiple.value},null,8,["items","clearable","chips","multiple"])],64)}}};const Be={class:"d-flex"},Ge={class:"d-flex align-items-center"},Pe={class:"row row-cols-2"},Le={style:{width:"525px"}},He={class:"row row-cols-2"},We={style:{width:"525px"}},Ye={class:"d-flex align-items-center"},Je={style:{width:"500px"}},qe={class:"row row-cols-2"},Xe={style:{width:"525px"}},Ke={class:"d-flex align-items-center"},Qe={class:"d-flex align-items-center"},Ze={class:"me-10",style:{width:"500px"}},et={class:"d-flex align-items-center pb-5"},tt={class:"d-flex align-items-center"},nt={class:"me-10",style:{width:"500px"}},lt={class:"d-flex align-items-center pb-5"},at={__name:"D2",setup(e){const t=A(""),n=A({clearable:"",chips:"",multiple:""}),o=A(""),i=A("inline"),r=A({disabled:!1,multiple:!1}),u=A({clearable:!1}),v=A(""),h=A(!1);Q(()=>v.value,w=>{console.log("otpInputValue",v.value),w.length>=6&&F()});function F(){h.value=!0,setTimeout(()=>{h.value=!1,v.value=""},1500)}const c=A({showSize:"",counter:"",chips:""}),_=A("mdi-paperclip"),p=A(["mdi-calendar","mdi-close-circle","mdi-minus-box","mdi-checkbox-blank-outline","mdi-checkbox-marked","mdi-close-circle","mdi-close","mdi-chevron-up","mdi-check","mdi-close-circle","mdi-circle","mdi-menu-down","mdi-pencil","mdi-close-circle","mdi-chevron-down","mdi-eyedropper","mdi-paperclip","mdi-page-first","mdi-information","mdi-page-last","mdi-cached","mdi-menu","mdi-minus","mdi-chevron-right","mdi-plus","mdi-chevron-left","mdi-radiobox-blank","mdi-radiobox-marked","mdi-star-outline","mdi-star","mdi-star-half-full","mdi-arrow-up","mdi-arrow-down","mdi-menu-down","mdi-check-circle","mdi-unfold-more-horizontal","mdi-alert-circle"]);return(w,k)=>{const O=g("v-checkbox"),U=g("v-tooltip"),f=g("v-radio"),N=g("v-radio-group"),$=g("v-text-field"),R=g("v-textarea"),B=g("v-select"),T=g("v-combobox"),D=g("v-otp-input"),W=g("v-file-input"),G=g("v-list-item");return I(),M("section",null,[y("div",Be,[y("div",null,[d(O,{modelValue:t.value,"onUpdate:modelValue":k[0]||(k[0]=E=>t.value=E),label:"red",color:"red",value:"red","hide-details":""},null,8,["modelValue"])]),y("div",Ge,[d(O,{modelValue:t.value,"onUpdate:modelValue":k[2]||(k[2]=E=>t.value=E)},{label:x(()=>[y("div",null,[K(" 我同意 "),d(U,{location:"top"},{activator:x(({props:E})=>[y("a",ee({target:"_blank",href:"https://vuetifyjs.com"},E,{onClick:k[1]||(k[1]=he(()=>{},["stop"]))})," Vuetify ",16)]),default:x(()=>[K(" 在新視窗中開啟 ")]),_:1}),K(" 太棒了 ")])]),_:1},8,["modelValue"])])]),y("div",Pe,[y("div",Le,[d(N,{modelValue:o.value,"onUpdate:modelValue":k[3]||(k[3]=E=>o.value=E),inline:i.value==="inline",column:i.value==="column"},{default:x(()=>[d(f,{label:"選項一",value:"1"}),d(f,{label:"選項二",value:"2"}),d(f,{label:"選項三",value:"3"})]),_:1},8,["modelValue","inline","column"])]),y("div",null,[d(N,{modelValue:i.value,"onUpdate:modelValue":k[4]||(k[4]=E=>i.value=E),inline:""},{default:x(()=>[d(f,{label:"inline",value:"inline"}),d(f,{label:"column",value:"column"})]),_:1},8,["modelValue"])])]),y("div",He,[y("div",We,[d($,{label:"input-text",hint:"請輸入文字(hint:聚焦時在輸入下方顯示提示文字)",prefix:"$",suffix:"元",clearable:u.value.clearable},null,8,["clearable"])]),y("div",Ye,[(I(!0),M(L,null,X(u.value,(E,l)=>(I(),M("div",{key:l},[d(O,{label:l,value:!0,modelValue:u.value[l],"onUpdate:modelValue":a=>u.value[l]=a},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))])]),y("div",null,[y("div",Je,[d(R,{clearable:"",counter:"","no-resize":"",maxlength:"120",label:"textarea"})])]),y("div",qe,[y("div",Xe,[d(B,{items:["米知","小明","周杰倫"],disabled:r.value.disabled===!0,multiple:r.value.multiple===!0,label:"select"},null,8,["disabled","multiple"])]),y("div",Ke,[(I(!0),M(L,null,X(r.value,(E,l)=>(I(),M("div",{key:l},[d(O,{label:l,value:!0,modelValue:r.value[l],"onUpdate:modelValue":a=>r.value[l]=a},null,8,["label","modelValue","onUpdate:modelValue"])]))),128))])]),y("div",Qe,[y("div",Ze,[d(T,{label:"Combobox",items:["California","Colorado","Florida","Georgia","Texas","Wyoming"],clearable:n.value.clearable===!0,chips:n.value.chips===!0,multiple:n.value.multiple===!0},null,8,["clearable","chips","multiple"])]),y("div",et,[(I(!0),M(L,null,X(n.value,(E,l)=>(I(),ne(O,{key:l,modelValue:n.value[l],"onUpdate:modelValue":a=>n.value[l]=a,label:l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"]))),128))])]),y("div",null,[d(D,{modelValue:v.value,"onUpdate:modelValue":k[5]||(k[5]=E=>v.value=E),loading:h.value,placeholder:"0"},null,8,["modelValue","loading"])]),y("div",tt,[y("div",nt,[d(W,{"show-size":c.value.showSize===!0,counter:c.value.counter===!0,chips:c.value.chips===!0,"prepend-icon":_.value,multiple:"",label:"File input"},null,8,["show-size","counter","chips","prepend-icon"])]),y("div",lt,[(I(!0),M(L,null,X(c.value,(E,l)=>(I(),ne(O,{key:l,modelValue:c.value[l],"onUpdate:modelValue":a=>c.value[l]=a,label:l,"hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"]))),128)),d(B,{class:"ms-10",modelValue:_.value,"onUpdate:modelValue":k[6]||(k[6]=E=>_.value=E),items:p.value,color:"blue-grey-lighten-2",label:"選擇 icon",style:{width:"200px"}},{item:x(({props:E,item:l})=>{var a;return[d(G,ee(E,{"prepend-icon":l.value,title:l==null?void 0:l.title,subtitle:(a=l==null?void 0:l.raw)==null?void 0:a.group}),null,16,["prepend-icon","title","subtitle"])]}),_:1},8,["modelValue","items"])])])])}}},rt={class:"text-h5"},ot={class:"text-grey-lighten-1"},it={__name:"D3",setup(e){const t={1:"https://cdn.vuetifyjs.com/images/lists/1.jpg",2:"https://cdn.vuetifyjs.com/images/lists/2.jpg",3:"https://cdn.vuetifyjs.com/images/lists/3.jpg",4:"https://cdn.vuetifyjs.com/images/lists/4.jpg",5:"https://cdn.vuetifyjs.com/images/lists/5.jpg"},n=A(!0),o=A(["Sandra Adams","Britta Holt"]),i=A(!1),r=A("午夜船員"),u=A([{name:"Sandra Adams",group:"Group 1",avatar:t[1]},{name:"Ali Connors",group:"Group 1",avatar:t[2]},{name:"Trevor Hansen",group:"Group 1",avatar:t[3]},{name:"Tucker Smith",group:"Group 1",avatar:t[2]},{name:"Britta Holt",group:"Group 2",avatar:t[4]},{name:"Jane Smith ",group:"Group 2",avatar:t[5]},{name:"John Smith",group:"Group 2",avatar:t[1]},{name:"Sandra Williams",group:"Group 2",avatar:t[3]}]),v=A("夏日的微風");let h=null;return Q(i,F=>{clearTimeout(h),F&&(h=setTimeout(()=>i.value=!1,3e3))}),(F,c)=>{const _=g("v-progress-linear"),p=g("v-btn"),w=g("v-list-item"),k=g("v-list"),O=g("v-menu"),U=g("v-col"),f=g("v-row"),N=g("v-img"),$=g("v-text-field"),R=g("v-chip"),B=g("v-autocomplete"),T=g("v-container"),D=g("v-form"),W=g("v-divider"),G=g("v-switch"),E=g("v-spacer"),l=g("v-card-actions"),a=g("v-card");return I(),ne(a,{loading:i.value,color:"blue-grey-darken-1",class:"mx-auto","max-width":"420"},{loader:x(({isActive:s})=>[d(_,{active:s,color:"green-lighten-3",height:"4",indeterminate:""},null,8,["active"])]),default:x(()=>[d(N,{cover:"",height:"200",src:"https://cdn.vuetifyjs.com/images/cards/dark-beach.jpg"},{default:x(()=>[d(f,{class:"pa-3"},{default:x(()=>[d(U,{cols:"12"},{default:x(()=>[d(O,{location:"bottom start",origin:"overlap",transition:"slide-y-transition"},{activator:x(({props:s})=>[d(p,ee(s,{icon:"mdi-dots-vertical",density:"comfortable",variant:"tonal"}),null,16)]),default:x(()=>[d(k,{lines:!1},{default:x(()=>[d(w,{title:"更新",onClick:c[0]||(c[0]=s=>i.value=!0)})]),_:1})]),_:1})]),_:1}),d(f,null,{default:x(()=>[d(U,{class:"text-center"},{default:x(()=>[y("h3",rt,Y(r.value),1),y("span",ot,Y(v.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),d(D,null,{default:x(()=>[d(T,null,{default:x(()=>[d(f,{dense:""},{default:x(()=>[d(U,{cols:"12",md:"6"},{default:x(()=>[d($,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=s=>r.value=s),disabled:i.value,color:"blue-grey-lighten-2",label:"姓名"},null,8,["modelValue","disabled"])]),_:1}),d(U,{cols:"12",md:"6"},{default:x(()=>[d($,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=s=>v.value=s),disabled:i.value,color:"blue-grey-lighten-2",label:"標題"},null,8,["modelValue","disabled"])]),_:1}),d(U,{cols:"12"},{default:x(()=>[d(B,{modelValue:o.value,"onUpdate:modelValue":c[3]||(c[3]=s=>o.value=s),disabled:i.value,items:u.value,chips:"","closable-chips":"",color:"blue-grey-lighten-2","item-title":"name","item-value":"name",label:"選擇",multiple:""},{chip:x(({props:s,item:b})=>[d(R,ee(s,{"prepend-avatar":b.raw.avatar,text:b.raw.name}),null,16,["prepend-avatar","text"])]),item:x(({props:s,item:b})=>{var S,C,V;return[d(w,ee(s,{"prepend-avatar":(S=b==null?void 0:b.raw)==null?void 0:S.avatar,title:(C=b==null?void 0:b.raw)==null?void 0:C.name,subtitle:(V=b==null?void 0:b.raw)==null?void 0:V.group}),null,16,["prepend-avatar","title","subtitle"])]}),_:1},8,["modelValue","disabled","items"])]),_:1})]),_:1})]),_:1})]),_:1}),d(W),d(l,null,{default:x(()=>[d(G,{modelValue:n.value,"onUpdate:modelValue":c[4]||(c[4]=s=>n.value=s),disabled:i.value,class:"mt-0 ms-2",color:"green-lighten-2",density:"compact","hide-details":"",label:"自動更新"},null,8,["modelValue","disabled"]),d(E),d(p,{disabled:n.value,loading:i.value,variant:i.value?"tonal":void 0,color:"blue-grey-lighten-3","prepend-icon":"mdi-update",onClick:c[5]||(c[5]=s=>i.value=!0)},{default:x(()=>[K(" 立即更新 ")]),_:1},8,["disabled","loading","variant"])]),_:1})]),_:1},8,["loading"])}}};/**
  * vee-validate v4.0.7
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */function q(e){return typeof e=="function"}const re=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e),ut={};function st(e){return ut[e]}function ce(e){return q(e)&&!!e.__locatorRef}function me(e){return!!e&&q(e.validate)}function ae(e){return e==="checkbox"||e==="radio"}function be(e){return Number(e)>=0}function ct(e){return Array.isArray(e)?e.length===0:re(e)&&Object.keys(e).length===0}function oe(e){return/^\[.+\]$/i.test(e)}function fe(e){return oe(e)?e.replace(/\[|\]/gi,""):e}function H(e,t){if(e)return oe(t)?e[fe(t)]:t.split(/\.|\[(\d+)\]/).filter(Boolean).reduce((n,o)=>{if(n&&o in n)return n[o]},e)}function te(e,t,n){if(oe(t)){e[fe(t)]=n;return}const o=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let r=0;r<o.length;r++){if(r===o.length-1){i[o[r]]=n;return}o[r]in i||(i[o[r]]=be(o[r+1])?[]:{}),i=i[o[r]]}}function ue(e,t){if(Array.isArray(e)&&be(t)){e.splice(Number(t),1);return}delete e[t]}function le(e,t){if(oe(t)){delete e[fe(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let r=0;r<n.length;r++){if(r===n.length-1){ue(o,n[r]);break}if(!(n[r]in o))break;o=o[n[r]]}const i=n.map((r,u)=>H(e,n.slice(0,u).join(".")));for(let r=i.length-1;r>=0;r--)if(ct(i[r])){if(r===0){ue(e,n[0]);continue}ue(i[r-1],n[r-1])}}function J(e){return Object.keys(e)}function ye(e,t=void 0){const n=$e();return Ie(e,(n==null?void 0:n.provides[e])||t)}const dt=e=>e?!!(typeof Event<"u"&&q(Event)&&e instanceof Event||e&&e.srcElement):!1;function Ve(e){if(!dt(e))return e;const t=e.target;return ae(t.type)&&"_value"in t?t._value:t.type==="file"&&t.files?Array.from(t.files):t.value}function xe(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?q(e)||me(e)||re(e)&&e._$$isNormalized?e:re(e)?Object.keys(e).reduce((n,o)=>{const i=vt(e[o]);return e[o]!==!1&&(n[o]=pe(i)),n},t):typeof e!="string"?t:e.split("|").reduce((n,o)=>{const i=mt(o);return i.name&&(n[i.name]=pe(i.params)),n},t):t}function vt(e){return e===!0?[]:Array.isArray(e)||re(e)?e:[e]}function pe(e){const t=n=>typeof n=="string"&&n[0]==="@"?ft(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,o)=>(n[o]=t(e[o]),n),{})}const mt=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function ft(e){const t=n=>n[e];return t.__locatorRef=e,t}function pt(e){return Array.isArray(e)?e.filter(ce):Object.keys(e).filter(t=>ce(e[t])).map(t=>e[t])}const _t={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ht=Object.assign({},_t);const gt=()=>ht;async function bt(e,t,n={}){const o=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:xe(t),bails:o??!0,formData:(n==null?void 0:n.values)||{}};return{errors:(await yt(i,e)).errors}}async function yt(e,t){if(me(e.rules))return Vt(e,t);if(q(e.rules)){const r=await e.rules(t,{field:e.name,form:e.formData}),u=typeof r!="string"&&r,v=typeof r=="string"?r:we({field:e.name,value:t,form:e.formData});return{errors:u?[]:[v]}}const n=[],o=Object.keys(e.rules),i=o.length;for(let r=0;r<i;r++){const u=o[r],v=await xt(e,t,{name:u,params:e.rules[u]});if(v.error&&(n.push(v.error),e.bails))return{errors:n}}return{errors:n}}async function Vt(e,t){return{errors:await e.rules.validate(t,{abortEarly:e.bails}).then(()=>[]).catch(o=>{if(o.name==="ValidationError")return o.errors;throw o})}}async function xt(e,t,n){const o=st(n.name);if(!o)throw new Error(`No such validator '${n.name}' exists.`);const i=wt(n.params,e.formData),r={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},u=await o(t,i,r);return typeof u=="string"?{error:u}:{error:u?void 0:we(r)}}function we(e){const t=gt().generateMessage;return t?t(e):"Field is invalid"}function wt(e,t){const n=o=>ce(o)?o(t):o;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((o,i)=>(o[i]=n(e[i]),o),{})}const ke=Symbol("vee-validate-form"),kt=Symbol("vee-validate-form-errors"),Ae=Symbol("vee-validate-form-initial-values");let _e=0;function Z(e,t,n){const o=_e>=Number.MAX_SAFE_INTEGER?0:++_e,{initialValue:i,validateOnMount:r,bails:u,type:v,valueProp:h,label:F,validateOnValueUpdate:c,uncheckedValue:_}=At(m(e),n),p=ye(ke),{meta:w,errors:k,handleBlur:O,handleInput:U,resetValidationState:f,setValidationState:N,value:$,checked:R}=Et({name:e,initValue:m(i),form:p,type:v,valueProp:h}),B=Ft(p==null?void 0:p.schema,m(e)),T=z(()=>xe(B||m(t))),D=async()=>{var V;w.pending=!0;let j;return!p||!p.validateSchema?j=await bt($.value,T.value,{name:m(F)||m(e),values:(V=p==null?void 0:p.values)!==null&&V!==void 0?V:{},bails:u}):j=(await p.validateSchema())[m(e)],w.pending=!1,N(j)},W=V=>{var j,P;if(!(R&&R.value===((P=(j=V)===null||j===void 0?void 0:j.target)===null||P===void 0?void 0:P.checked))&&($.value=Ve(V),w.dirty=!0,!c))return D()};r&&ge(D);const G=z(()=>k.value[0]);function E(V){w.touched=V}function l(V){w.dirty=V}let a;function s(){c&&(a=Q($,D,{deep:!0}))}s();function b(V){a==null||a(),f(V),s()}const S={fid:o,name:e,value:$,meta:w,errors:k,errorMessage:G,type:v,valueProp:h,uncheckedValue:_,checked:R,idx:-1,resetField:b,handleReset:()=>b(),validate:D,handleChange:W,handleBlur:O,handleInput:U,setValidationState:N,setTouched:E,setDirty:l};if(de(t)&&typeof m(t)!="function"&&Q(t,D,{deep:!0}),!p)return S;p.register(S),Oe(()=>{p.unregister(S)});const C=z(()=>{const V=T.value;return!V||q(V)||q(V.validate)?[]:Object.keys(V).reduce((j,P)=>{const ie=pt(T.value[P]).map(Ee=>Ee.__locatorRef);return j.push(...ie),j},[])});return Ue(()=>{C.value.length&&C.value.forEach(V=>{if(V in p.values&&w.dirty)return D()})}),S}function At(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,rules:"",label:e,validateOnValueUpdate:!0});return t?Object.assign(Object.assign({},n()),t||{}):n()}function Et({name:e,initValue:t,form:n,type:o,valueProp:i}){var r;const u=A([]),v=ye(Ae,void 0),h=(r=H(m(v),m(e)))!==null&&r!==void 0?r:t,{resetMeta:F,meta:c}=St(h),_=Ot(h,e,n);ae(o)&&h&&(_.value=h);const p=ae(o)?z(()=>Array.isArray(_.value)?_.value.includes(m(i)):m(i)===_.value):void 0;(p===void 0||p.value)&&(_.value=h);const w=()=>{c.touched=!0},k=f=>{ae(o)||(_.value=Ve(f)),c.dirty=!0};function O(f){return u.value=f.errors,c.valid=!f.errors.length,f}function U(f){var N;const $=m(e),R=f&&"value"in f?f.value:(N=H(m(v),$))!==null&&N!==void 0?N:t;n?n.setFieldValue($,R,{force:!0}):_.value=R,u.value=(f==null?void 0:f.errors)||[],F(f)}return{meta:c,errors:u,setValidationState:O,resetValidationState:U,handleBlur:w,handleInput:k,value:_,checked:p}}function St(e){const t=()=>({touched:!1,dirty:!1,valid:!1,pending:!1,initialValue:e}),n=ve(t());function o(i){var r,u,v;const h=t();n.pending=h.pending,n.touched=(r=i==null?void 0:i.touched)!==null&&r!==void 0?r:h.touched,n.dirty=(u=i==null?void 0:i.dirty)!==null&&u!==void 0?u:h.dirty,n.initialValue=(v=i==null?void 0:i.value)!==null&&v!==void 0?v:h.initialValue}return{meta:n,resetMeta:o}}function Ft(e,t){if(e)return e[t]}function Ot(e,t,n){return n?(te(n.values,m(t),e),z({get(){return H(n.values,m(t))},set(i){n.setFieldValue(m(t),i)}})):A(e)}function Ut(e){const t=A([]),n=A(!1),o=z(()=>t.value.reduce((l,a)=>{if(!l[a.name])return l[a.name]=a,a.idx=-1,l;if(!Array.isArray(l[a.name])){const s=l[a.name];s.idx=0,l[a.name]=[s]}return a.idx=l[a.name].length,l[a.name].push(a),l},{})),i=A(0),r=ve({}),u={},v=z(()=>t.value.reduce((l,a)=>{let s;if(Array.isArray(o.value[a.name])){const b=o.value[a.name];s=m((b.find(S=>m(S.checked))||a).errorMessage)}else s=m(a.errorMessage);return s&&(l[a.name]=s),l},{})),{initialValues:h,setInitialValues:F}=$t(o,r,e==null?void 0:e.initialValues),c=It(t,h);function _(l,a){const s=o.value[l];if(s){if(Array.isArray(s)){s.forEach(b=>{b.setValidationState({errors:a?[a]:[]})});return}s.setValidationState({errors:a?[a]:[]})}}function p(l){J(l).forEach(a=>{_(a,l[a])})}function w(l,a,{force:s}={force:!1}){var b;const S=o.value[l];if(Array.isArray(S)&&((b=S[0])===null||b===void 0?void 0:b.type)==="checkbox"&&!Array.isArray(a)){const V=H(r,l),j=Array.isArray(V)?[...V]:[],P=j.indexOf(a);P>=0?j.splice(P,1):j.push(a),te(r,l,j),S.forEach(ie=>{u[ie.fid]=j});return}let C=a;(S==null?void 0:S.type)==="checkbox"&&!s&&(C=H(r,l)===a?S.uncheckedValue:a),te(r,l,C),S&&(u[S.fid]=C)}function k(l){J(l).forEach(a=>{w(a,l[a])})}function O(l,a){const s=o.value[l];if(s){if(Array.isArray(s)){s.forEach(b=>b.setTouched(a));return}s.setTouched(a)}}function U(l){J(l).forEach(a=>{O(a,!!l[a])})}function f(l,a){const s=o.value[l];if(s){if(Array.isArray(s)){s.forEach(b=>b.setDirty(a));return}s.setDirty(a)}}function N(l){J(l).forEach(a=>{f(a,!!l[a])})}const $=l=>{l!=null&&l.values&&F(l.values),t.value.forEach(a=>a.resetField()),l!=null&&l.dirty&&N(l.dirty),l!=null&&l.touched&&U(l.touched),l!=null&&l.errors&&p(l.errors),i.value=(l==null?void 0:l.submitCount)||0};function R(l){t.value.push(l),de(l.name)&&Q(l.name,a=>{w(a,u[l.fid])},{flush:"post"})}function B(l){var a,s;const b=t.value.indexOf(l);if(b===-1)return;t.value.splice(b,1);const S=l.fid;Ne(()=>{delete u[S]});const C=m(l.name);if(l.idx===-1){le(r,C);return}const V=(s=(a=H(r,C))===null||a===void 0?void 0:a.indexOf)===null||s===void 0?void 0:s.call(a,m(l.valueProp));if(V===void 0){le(r,C);return}if(V!==-1){if(Array.isArray(r[C])){le(r,`${C}.${V}`);return}le(r,C)}}const T={register:R,unregister:B,fields:o,values:r,schema:e==null?void 0:e.validationSchema,submitCount:i,validateSchema:me(e==null?void 0:e.validationSchema)?(l=!1)=>Nt(T,l):void 0,setFieldValue:w,setValues:k,setErrors:p,setFieldError:_,setFieldTouched:O,setTouched:U,setFieldDirty:f,setDirty:N,resetForm:$},D=async()=>T.validateSchema?T.validateSchema(!0).then(a=>Object.keys(a).every(s=>!a[s].errors.length)):(await Promise.all(t.value.map(a=>a.validate()))).every(a=>!a.errors.length),W=z(()=>t.value.reduce((l,a)=>(te(l,a.name,m(a.value)),l),{})),G=l=>function(s){return s instanceof Event&&(s.preventDefault(),s.stopPropagation()),n.value=!0,i.value++,D().then(b=>{if(b&&typeof l=="function")return l(W.value,{evt:s,setDirty:N,setFieldDirty:f,setErrors:p,setFieldError:_,setTouched:U,setFieldTouched:O,setValues:k,setFieldValue:w,resetForm:$})}).then(()=>{n.value=!1},b=>{throw n.value=!1,b})},E=G((l,{evt:a})=>{var s;a&&((s=a==null?void 0:a.target)===null||s===void 0||s.submit())});return ge(()=>{e!=null&&e.initialErrors&&p(e.initialErrors),e!=null&&e.initialDirty&&N(e.initialDirty),e!=null&&e.initialTouched&&U(e.initialTouched),e!=null&&e.validateOnMount&&D()}),se(ke,T),se(kt,v),{errors:v,meta:c,values:r,isSubmitting:n,submitCount:i,validate:D,handleReset:()=>$(),resetForm:$,handleSubmit:G,submitForm:E,setFieldError:_,setErrors:p,setFieldValue:w,setValues:k,setFieldTouched:O,setTouched:U,setFieldDirty:f,setDirty:N}}function It(e,t){const n={valid:"every",dirty:"some",touched:"some",pending:"some"};return z(()=>{const o=J(n).reduce((i,r)=>{const u=n[r];return i[r]=e.value[u](v=>v.meta[r]),i},{});return Object.assign({initialValues:m(t)},o)})}async function Nt(e,t=!1){const n=await e.schema.validate(e.values,{abortEarly:!1}).then(()=>[]).catch(u=>{if(u.name!=="ValidationError")throw u;return u.inner||[]}),o=e.fields.value,i=n.reduce((u,v)=>(u[v.path]=v,u),{});return J(o).reduce((u,v)=>{const h=o[v],c={errors:(i[v]||{errors:[]}).errors};u[v]=c;const _=Array.isArray(h),p=_?h.some(w=>w.meta.dirty):h.meta.dirty;return!t&&!p?u:_?(h.forEach(w=>w.setValidationState(c)),u):(h.setValidationState(c),u)},{})}function $t(e,t,n){const o=A(m(n)||{}),i=z(()=>o.value);function r(u,v=!1){if(o.value=Object.assign(Object.assign({},o.value),u),!v)return;const h=F=>F.meta.dirty||F.meta.touched;J(e.value).forEach(F=>{const c=e.value[F];if(Array.isArray(c)?c.some(h):h(c))return;const p=H(o.value,F);te(t,F,p)})}return de(n)&&Q(n,u=>{r(u,!0)},{deep:!0}),se(Ae,i),{initialValues:i,setInitialValues:r}}const Ct={class:"mt-10"},jt={__name:"D4",setup(e){const{handleSubmit:t,handleReset:n}=Ut({validationSchema:{name(c){return(c==null?void 0:c.length)>=2?!0:"名稱至少需要 2 個字元"},phone(c){return(c==null?void 0:c.length)>9&&/[0-9-]+/.test(c)?!0:"手機號碼至少需要 9 位數字"},email(c){return/^[a-z.-]+@[a-z.-]+\.[a-z]+$/i.test(c)?!0:"必須是有效的電子郵件"},select(c){return c?!0:"請選擇一個項目"},checkbox(c){return c==="1"?!0:"必須勾選同意"}}}),o=Z("name"),i=Z("phone"),r=Z("email"),u=Z("select"),v=Z("checkbox"),h=A(["Item 1","Item 2","Item 3","Item 4"]),F=t(c=>{console.log(c)});return(c,_)=>{const p=g("v-text-field"),w=g("v-select"),k=g("v-checkbox"),O=g("v-btn"),U=g("v-form");return I(),ne(U,{onSubmit:he(m(F),["prevent"])},{default:x(()=>[d(p,{modelValue:m(o).value.value,"onUpdate:modelValue":_[0]||(_[0]=f=>m(o).value.value=f),counter:10,"error-messages":m(o).errorMessage.value,label:"請輸入姓名"},null,8,["modelValue","error-messages"]),d(p,{modelValue:m(i).value.value,"onUpdate:modelValue":_[1]||(_[1]=f=>m(i).value.value=f),counter:7,"error-messages":m(i).errorMessage.value,label:"請輸入手機號碼"},null,8,["modelValue","error-messages"]),d(p,{modelValue:m(r).value.value,"onUpdate:modelValue":_[2]||(_[2]=f=>m(r).value.value=f),"error-messages":m(r).errorMessage.value,label:"請輸入 E-mail"},null,8,["modelValue","error-messages"]),d(w,{modelValue:m(u).value.value,"onUpdate:modelValue":_[3]||(_[3]=f=>m(u).value.value=f),items:h.value,"error-messages":m(u).errorMessage.value,label:"選擇一個項目"},null,8,["modelValue","items","error-messages"]),d(k,{modelValue:m(v).value.value,"onUpdate:modelValue":_[4]||(_[4]=f=>m(v).value.value=f),"error-messages":m(v).errorMessage.value,value:"1",label:"我同意",type:"checkbox"},null,8,["modelValue","error-messages"]),y("div",Ct,[d(O,{class:"me-4",type:"submit"},{default:x(()=>[K(" 提交 ")]),_:1}),d(O,{onClick:m(n)},{default:x(()=>[K(" 清除 ")]),_:1},8,["onClick"])])]),_:1},8,["onSubmit"])}}},Dt={class:"text-20 fw-bold-7"},Mt={class:"text-18 mb-5"},zt={__name:"Demo4",setup(e){const{pageInfo:t}=Ce(De()),n=ve([{description:"自動補全",component:ze},{description:"常見表單元素",component:at},{description:"表單自動儲存案例",component:it},{description:"表單驗證",component:jt}]);return(o,i)=>(I(),M(L,null,[y("h1",Dt,Y(m(t).tabName),1),y("p",null,Y(m(t).description),1),(I(!0),M(L,null,X(n,(r,u)=>(I(),M("div",{key:`${r.tabName}-${u}`,class:"bg-gainsboro my-2 p-5"},[y("h3",Mt,Y(u+1)+". "+Y(r.description),1),(I(),ne(je(r.component),{item:r},null,8,["item"]))]))),128))],64))}};export{zt as default};
